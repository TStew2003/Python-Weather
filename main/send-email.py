from email.message import EmailMessage
import ssl
import smtplib
from pyChatGPT import ChatGPT

#session_token = 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..RXkaOTEg0WMCTamH.OBAAfMAUsCAt_9tKZBFrLVNkaJCqt9Lvy9oXQxza1Rj-Y9xl0sRPT8jNPW9MJOFwYye0SVjTPxzTzRBzitpiPhIV8-Q_QUyJQGUZJ4XCgiqe072w4qodAf6jlRDFD8_1A16VWQ3_wD_K0ua4kPRIK8yjm2Srw7mm2JAQ7CrojTrs7fyEeYvL4VMeRKe-NFhMecyfNanUtoySsQ6Au8BW1OoH3N6JPr6CnlOjTwn4DXnnR-zr-k8-5DiKEaQZ8k8kMe3jjPDQWd8Mo063TI7T2ZS0p1LjiLtyHC5pih7cNvLm1KgkR2dqcU-rFwk4nWIV5p7xVQg1h-hQCJtu1vcUW4NjZRVHlxkfmSyDCX5jM-FaswDdrf2XwryglbDy-rtkrmD5L2uPoeySbloGI6XauHxM_mp0XWBjbtXhPMIPCxcYhuqhgEphU5w5fnQT1aJrIihQrS2-haqk4LbIa5qcxNTUPL0Q_rEO7xNj34ZpBYp-GjpvSyMytIMWUqI3vf74ZDbkqxfcKXqsFiocMVwpomh7wVRys70gwvPqTI4_60Nqepc4Uhr1vxzh59o7WZiwCAW-sYe3kVExAv2EtcNUYg4Bnjn7jzGbcjtmJIECT5FiKuetuoOT5_theeHjcyrftiu3o_j-VjfNCMLsch0rRUlUAumWGRdGK_TbbnApRYe5VF3FOLUqiMIvjl_uh0FwIewDLInU4pMhNvPkuEe_PHC0R-t-jSRF9SD4KwaDXZ197pp_e0lkcS58hz7qeKRY460wpIiDjVC6I0SPnfpx98GGtmbQcHBYyqycn6KOuZBJUSa88m3kWetSIMyAjyLn-OE4FSHfz4fJbZ9Xihw94HxQ_CYGh-ys0IAh6ibyrG_BKtW0GmEZMfpDBbLJTiyuDpjCB0nw-8R23PbbTbFqXkh9-UI0TNAPYUHG9OIzXd3SvgJqctnrzJJ8mwfhVHOWMQY3OrfsSzCi8TgQ1ddHwECjOgQ9MP7d48zj8ieXY3H0YYmjgsReGICGBqwp6Y0hzg8OEaV_OnlPKdxoYYXVjaOzoVQQpT5I9AkozeV4EcuyYDUUqWHJ74dWXG9hKZSeTbZT3BQPfGX_fbUFLE2B1RP6KeDBty1rcooudmflyYKFjQdyhG8L8tbSoNximAK7HNAnsjGs_0H97spFmOxhd_vz_Vl5V5Xd9-oRoUoU5dA89QKOPjmjeUhvBERRCt5xbHBZl-UMFe4edmGF0YWPTa5hPMdQu15nUgwzmCkjcDuAMnGZYUTTUr9m-ovi4_A4cfNWbQOEdLxSWf5-s2YrntIB0rcqXtabv4kCYW_-JDd_i0dTUZruwZ2P1Q5hbZfg9o_9rY7INVQ7LPr4pmB_RH8k9LgCXwa2RvYiOMoblybGoko8whnftkIKuuJJJR5z_r5FC6gi6w8mJty4QPSGXoh88jDU_6f5uvJF1uoJst27EXXJUGiZlec-HpQNIzr3z6p-IBAhNIM1rzcxGYD6jzTmcX0laggN6fXBkA8X0Ef9uyCTr4zm81MWbY7w6xbZ7NoDaO1Ws00YIOSgycVRVEHKQlqR3sAzDoRz40SGzW8VJK0y4iYV14P-JChejMCrDZv7P3PUOrc85Uw8JMYeqa6O_sqMPuYgpXz-5COaNXlhJoCdQeHC8f1QkJCRQi6pexybSODc32HS-bfahGv75BKOCBavNFOgfAEoJX_ZCln5qpgE3IzDaWd29wj1t0HLdzFppiq_c0npRyn7n2yMUvYsAR6qdBPY2_xsYewccfUjEUV8TiWxVfFlNxY70BIW_b7cRcQKRnK8IMC8E988dc_TyZholqX9q1SqwsYhw5gwSrEAj9DAAzc0TCzTbbISQjCPCeq_Ek7jSASPc2Sz1XVFsgMMvVfvLWYLNLsJAekfCLieEu7s26XAUx7BR9EepbT_Jd6I9JVYLoAza0w5LlTne1Hvg5jBG-bou5A5dY-OuBcHvkG9HmkdKZ_gOtZgdWrniXLnzUozYoZpjUjyattRknmMqJXirzxNctiOg4M5vFTRTj_0RNyvwnmuS_ytD5Fiu-3MvSmV2iyAf1w2KQFq_ZBvlB1KTeGTY_1Gbhb8ExpJL1R1ZjCDxxO7i2fd3fy7r6Ai_qClo5s-58Jo6hv8uuKZdw3HVl1BDzQ-tqXBV9qSQZDEdCMTshZovi3IFLolZq3NeXa6b6vNoWa2pfquomLQxEKQu_ugt6Yp_m7Tr9mIBMWcQ6gw0yoP5D_rrU5NYOrQdXSjLPBMWpI1or4kA9H7fE3AJS3eAg3Z7Ub-K2F-M3GDkXy1IXH7Kkr_XJD4r57ZNMK-zUQXf174c9h_6Xy5N9jJd78S5Oz11SL8UDZdw1Zg7hxE6L2qm5XCW_Z9BtBr79Z6BZ63sOy3b-XfeZ2wow1ROe_GBdNljI1U_XjVbej1Z4wt3AIugCtUo2gFL5rFnEMLyrIKwBEySQTEusDxWtvO3uYdiroVbNQ3l5vu19a4vE3IVbm0srsyfcVZA45T6-ttSDypO5aosykKw7_Hym4_dmb8_ZCmuGATAlJK3K5K4CffYvDzm6FPcHS2Gx_78gStRPuj6nWd6Jlwhec2fY1Y5cYn8McvPxgX9Exy9XNH8ne7wSs44EzfwO1JqgPCwu9_xCE-A4kzjhR0HZLf_4_BLrEQcYoPYlBmm9BFxIfpMTruSzXAUStuSzE23Cq8O-Qi1fOj6R1qNUvGLjXxe2evhRxUS4HQxIlumy1dNL_7kc8GxSLSZPJZHens1NnX.TwiIWV5atCIXdEo1lLiseA'

#api = ChatGPT(session_token)

#resp = api.send_message('What is the weather in Boston Massachusetts for the next week?')

email_send = 'legitness2003@gmail.com'
email_pw = 'qudnwxxiiofhxsrg'
email_receive = 'stewartt3@wit.edu'

subject = 'Weather for the Week'
body = "Hi"
#resp['message']

em = EmailMessage()
em['From'] = email_send
em['To'] = email_receive
em['Subject'] = subject
em.set_content(body)

context = ssl.create_default_context()

with smtplib.SMTP_SSL('smtp.gmail.com', 465, context = context) as smtp:
    smtp.login(email_send, email_pw)
    smtp.sendmail(email_send, email_receive, em.as_string())

#api.refresh_auth()
